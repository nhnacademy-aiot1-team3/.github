## gateway

1. 라우팅
    - path 별로 라우팅을 해줌
    - auth path : /auth/**
    - api account : /api/account/**
    - 추가될 api : /api/~/**

2. 로드밸런싱
    - 로드 밸린싱이 필요한 api에 추가
  
3. jwt 토큰 검증
    - 인가가 필요하지 않은 경로를 제외 / 인가없이 path를 확인해 라우팅 해줌
        - 로그인 (/auth/login)
        - oauth 로그인 (/auth/**/oauth)
        - 회원가입 (/api/account/member/register)
        - 추가할 사항
    - 인가가 필요한 경로는 토큰의 시그니처를 검증, 토큰의 만료 여부를 확인
    - 검증에 실패하면 UNAUTHORIZED(401) 오류를 요청이 왔던 곳으로 반환

4. blacklist 관리
    - 로그아웃 요청일때 해당 토큰을 redis에 저장
    - 요청이 들어 올때마다 블랙리스트 토큰과 현재 요청에 담긴 토큰을 확인해 로그아웃이 된 토큰인지 비교하고 블랙리스트에 없다면 정상처리 있다면 UNAUTHORIZED(401) 오류를 반환
   
---

## 전력

1. 전월량 비교
    - 일정시간 동안 사용한 전력의 양을 시간대 별로 나눠서 비교
        - ex) 3월 1일의 6시, 3월 2일의 6시를 비교해서 분석해줌 -> 이걸 1주, 1달 설정 기간별로 보여주며 비교해줌
    - 관리자가 원하는 기간의 데이터의 그래프를 메인 화면에 커스텀 할 수 있게 해줌

2. 전력 소비 AI로 예측, 일정 수치에 도달하면 일부 기능 강제 OFF
    - 전력 소비한 것을 전압, 전류, 역률, 전력, 전력량의 데이터를 보며 이번달의 전력소비를 AI를 통해 예측해줌
        - ex) 현재 3월 10일인데 남은 3월 달의 전력을 10일간 소비한 기록과 지금까지 달마다 소비한 기록(2월 1월 작년 12월...)의 데이터를 통해 3월 전력 소비를 예측
    - 어느정도에 예산의 전기료를 설정하는 기능을 추가하여 그달의 설정한 요금이 넘어갈것 같으면 AI에서 예측한것을 통하여 전력 아끼기 모드?에 들어가서 온도, 습도에 사용되는 기계들이 조정되고 알림이 발생하여 관리자가 인지할 수 있게 해줌
